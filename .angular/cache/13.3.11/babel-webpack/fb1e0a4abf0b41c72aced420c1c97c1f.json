{"ast":null,"code":"import { Subject } from 'rxjs';\nimport { HostModalDirective } from '../../directives/host-modal.directive';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../modal-activo-ref\";\nimport * as i2 from \"@angular/cdk/drag-drop\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../directives/host-modal.directive\";\n\nfunction ContenedorModalComponent_ng_template_3_Template(rf, ctx) {}\n\nconst _c0 = function (a0, a1) {\n  return {\n    width: a0,\n    height: a1\n  };\n};\n\nexport let ContenedorModalComponent = /*#__PURE__*/(() => {\n  class ContenedorModalComponent {\n    constructor(componentFactoryResolver, modalActivoRef) {\n      this.componentFactoryResolver = componentFactoryResolver;\n      this.modalActivoRef = modalActivoRef;\n      this._alCerrar = new Subject();\n      this.alCerrar$ = this._alCerrar.asObservable();\n      this._clickDentroDelModal = false;\n    }\n\n    ngAfterContentInit() {\n      console.log(this.host.vcr.element.nativeElement);\n    }\n\n    ngOnDestroy() {\n      if (this.componenteRef) {\n        this.componenteRef.destroy();\n      }\n    }\n\n    clickFueraDelModal() {\n      if (this.config.cerrarConClickFueraDelModal && !this._clickDentroDelModal) this.modalActivoRef.cerrar('Se cerro haciendo click fuera del modal');\n      this._clickDentroDelModal = false;\n    }\n\n    clickEnElModal() {\n      this._clickDentroDelModal = true;\n    }\n\n    cerrar() {\n      this._alCerrar.next();\n    }\n\n    cargarComponenteHijo(componentType) {\n      const componentFactory = this.componentFactoryResolver.resolveComponentFactory(componentType);\n      const viewContainerRef = this.host.vcr;\n      viewContainerRef.clear();\n      this.componenteRef = viewContainerRef.createComponent(componentFactory);\n    }\n\n  }\n\n  ContenedorModalComponent.ɵfac = function ContenedorModalComponent_Factory(t) {\n    return new (t || ContenedorModalComponent)(i0.ɵɵdirectiveInject(i0.ComponentFactoryResolver), i0.ɵɵdirectiveInject(i1.ModalActivoRef));\n  };\n\n  ContenedorModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ContenedorModalComponent,\n    selectors: [[\"ng-component\"]],\n    viewQuery: function ContenedorModalComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(HostModalDirective, 7);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.host = _t.first);\n      }\n    },\n    decls: 4,\n    vars: 5,\n    consts: [[1, \"overlay\", 3, \"click\"], [\"cdkDrag\", \"\", 1, \"modal\", 3, \"ngStyle\", \"cdkDragDisabled\", \"click\"], [1, \"contenedor\", \"cb-main-modal\", 2, \"height\", \"100%\"], [\"cbHostModal\", \"\"]],\n    template: function ContenedorModalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵlistener(\"click\", function ContenedorModalComponent_Template_div_click_0_listener() {\n          return ctx.clickFueraDelModal();\n        });\n        i0.ɵɵelementStart(1, \"div\", 1);\n        i0.ɵɵlistener(\"click\", function ContenedorModalComponent_Template_div_click_1_listener() {\n          return ctx.clickEnElModal();\n        });\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵtemplate(3, ContenedorModalComponent_ng_template_3_Template, 0, 0, \"ng-template\", 3);\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction2(2, _c0, ctx.config == null ? null : ctx.config.ancho, ctx.config == null ? null : ctx.config.alto))(\"cdkDragDisabled\", true);\n      }\n    },\n    directives: [i2.CdkDrag, i3.NgStyle, i4.HostModalDirective],\n    styles: [\".overlay[_ngcontent-%COMP%]{display:flex;position:fixed;inset:0;background:rgba(0,0,0,.6);align-items:center;justify-content:center;z-index:99999}.drag[_ngcontent-%COMP%]{cursor:move}.modal[_ngcontent-%COMP%]{position:relative;background-color:#fff;overflow:auto;height:auto;max-width:90%;max-height:90%;min-width:200px;min-height:200px;display:initial;border-top:7.5px solid #008859b8}.modal[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.modal[_ngcontent-%COMP%]::-webkit-scrollbar-track{background-color:#d0d0d1;border-radius:6px}.modal[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:6px;width:14px;background-color:gray}.modal[_ngcontent-%COMP%]   .contenedor[_ngcontent-%COMP%]{padding:0;height:100%}@media only screen and (max-width: 778px){.modal[_ngcontent-%COMP%]{max-width:90%;max-height:95%}}\"]\n  });\n  return ContenedorModalComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}