@import "./variables";

.cb-table {
  width: 100%;
  // border-collapse: separate;
  border-spacing: 0;
  box-sizing: border-box;
  border-top: 0;
  border: 1px solid #ebedf0;

  &--cargando {
    .cb-table__body::after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("https://media.tenor.com/On7kvXhzml4AAAAj/loading-gif.gif");
      background-size: 80px;
      background-position: center top 200px;
      background-repeat: no-repeat;

      /* Agrega un z-index negativo para que el contenido del div est√© por encima de la imagen de fondo */
      z-index: -1;
    }

    .cb-table__head {
      opacity: 0.5;
    }

    .cb-table__body {
      tr {
        opacity: 0;
      }
    }
  }

  &--responsive {
    @media screen and (max-width: $cb-screen-breakpoint-phone) {
      border: none;

      .cb-table__td {
        padding: 4px 0 !important;
      }

      .cb-table__tr {
        &:nth-child(odd) {
          background-color: $cb-color-white !important;
        }

        &--selected {
          background-color: #dcdcdc;
        }
      }

      .cb-table__head {
        display: none;
      }

      .cb-table__tr {
        border: none !important;

        .cb-table__td {
          border: none;
          border-right: none !important;
          padding: 0;
          border-bottom: 1px solid #cdcdcd !important;
        }
      }
    }
  }

  .cb-table__head {
    &:has(.cb-table__th[colspan]) {
      .cb-table__tr {
        &:last-of-type {
          .cb-table__th {
            border-right: 1px solid #e2e4e6;
            top: 30px;
          }
        }
      }
    }

    &--only-desk {
      @media screen and (max-width: $cb-screen-breakpoint-phone) {
        display: none;
      }
    }

    .cb-table__tr {
      .cb-table__th {
        box-sizing: border-box;
        cursor: pointer;
        border-right: 1px solid #e2e4e6;
        border-bottom: 1px solid #e2e4e6;
        background-color: #9d9d9d;
        top: 0;
        z-index: 2;
        color: $cb-color-white;
        text-align: center;
        min-width: max-content;
        font-weight: bold;
        padding: 4px 6px;
        font-size: 14px;
        position: sticky;
        white-space: nowrap;
        height: 28px;

        &:not([colspan]) {
          border-bottom: none;
        }

        &:last-of-type {
          border-right: none;
        }
      }

      &--toolbar {
        height: 28px;

        &:hover {
          background-color: transparent !important;
        }

        th {
          background: transparent !important;
          cursor: auto !important;
        }

        .cb-toolbar {
          justify-content: end;
        }
      }
    }
  }

  .cb-table__body {
    .cb-table__tr {
      background-color: $cb-color-white;

      &__highlight {
        color: $cb-color-black;
        font-weight: bold;
      }

      &:nth-child(odd) {
        background-color: #ebedf0;
      }

      &--green {
        background-color: #d0dfd3 !important;

        &:hover {
          background-color: #b0d5b9 !important;
        }

        @media screen and (max-width: $cb-screen-breakpoint-phone) {
          background-color: $cb-color-white !important;
          border-left: 5px solid #8fc39a;
          border-collapse: collapse;

          &:hover {
            background-color: $cb-color-white !important;
          }

          td {
            padding-left: 1px;
          }
        }
      }

      &--yellow {
        background-color: #faeecc !important;

        &:hover {
          background-color: #ffe9a7 !important;
        }

        @media screen and (max-width: $cb-screen-breakpoint-phone) {
          border-left: 5px solid #ffdf82;
          border-collapse: collapse;

          td {
            padding-left: 1px;
          }
        }
      }

      &--selected {
        background-color: #dcdcdc !important;
      }

      &--selected.cb-table__tr--green {
        background-color: #b0d5b9 !important;
      }

      &--selected.cb-table__tr--yellow {
        background-color: #ffe9a7 !important;
      }

      &--selectable {
        cursor: pointer;
      }

      .cb-table__td {
        border-right: 1px solid #e2e4e6;
        padding: 4px 6px;
        min-width: max-content;
        font-size: 14px;
        white-space: nowrap;
        height: 28px;

        &:has(.cb-dropdown) {
          position: static;

          .cb-dropdown {
            &__content {
              float: left;
            }
          }
        }

        &--only-desk {
          @media screen and (max-width: $cb-screen-breakpoint-phone) {
            display: none !important;
          }
        }

        &--only-phone {
          @media screen and (min-width: $cb-screen-breakpoint-phone) {
            display: none !important;
          }
        }

        &:last-of-type {
          border-right: none;
        }

        &--right {
          text-align: end;
        }

        &--center {
          text-align: center;
        }
      }
    }
  }

  .cb-table__footer {
    background-color: #cdcdcd;

    .cb-table__tr {
      .cb-table__td {
        padding: 4px 6px;
        font-weight: bold;
      }
    }
  }
}

@media (min-width: 768px) {
  .cb-table__tr {
    &:hover {
      background-color: #dcdcdc !important;
    }
  }
}
